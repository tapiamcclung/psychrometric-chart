<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psychrometric Chart 5.0</title>
    <style>
      body {
        background: rgba(130, 185, 187, 0.2);
      }

      h1 {
        text-align: center;
        font-family: 'Trebuchet MS';
      }
      .chartCard {
        height: calc(100vh - 40px);
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .chartBox {
        width: 900px;
        padding: 20px;
        border-radius: 10px;
        border: double 3px rgb(52, 142, 202);
        background: white;
      }
    </style>
  </head>


  <body>
    <div class="chartCard">
      <div class="chartBox">
        <h1>Psychrometric Chart 5.0</h1>
        <canvas id="psyChart"></canvas>
        <br>
        <button onclick="resetZoomChart()">Reset Zoom</button>
      </div>
    </div>

<!-- ----------------------------------------------------------- -->
<!-- ---------------------- S C R I P T S ---------------------- -->
<!-- ----------------------------------------------------------- -->

  <!----- Add Chart.js ----->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.js" integrity="sha512-7DgGWBKHddtgZ9Cgu8aGfJXvgcVv4SWSESomRtghob4k4orCBUTSRQ4s5SaC2Rz+OptMqNk0aHHsaUBk6fzIXw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
  <!-- ZOOM PLUGIN --- from Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.0/chartjs-plugin-zoom.min.js" integrity="sha512-B6F98QATBNaDHSE7uANGo5h0mU6fhKCUD+SPAY7KZDxE8QgZw9rewDtNiu3mbbutYDWOKT3SPYD8qDBpG2QnEg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    
    // const ctx = document.getElementById('psyChart');
    // let myChart = new Chart (ctx, {
    
    const ctx = document.getElementById('psyChart');

    Chart.defaults.elements.point.pointStyle = 'dash';
    Chart.defaults.elements.point.borderWidth = null;
    Chart.defaults.elements.point.radius = 8;

    const labels1 = ['10'];

    const data1 = {
        datasets: [
            {
            type: 'line',
            label: 'Curva %',
            data: [{x:0, y:4}, {x:5, y:5.2},
                   {x:10, y:7.5}, {x:15, y:10.5},
                   {x:20, y:14.5}, {x:25, y:20},
                   {x:30, y:26.7}, {x:34.3, y:35},
                   {x:35, y:35}, {x:50, y:35},
                  ], // curva % 
            borderColor: 'rgb(139, 142, 183, 0.5)',
            tension: 0.4,
            pointStyle: false,
            },
            {
            type: 'scatter',
            backgroundColor: 'rgb(25, 100, 285)',
            borderColor: 'rgb(25, 100, 285)',
            data: [{x:15, y:5}, {x:24, y:8}, {x:28, y:22},
                   {x:30, y:23}, {x:31, y:23},
                  ], // add psychrometric data
            },
        ],
    };


    const myChart = new Chart(ctx, {
        type: 'scatter',
        data: data1,
        labels: labels1,
        options: {
            scales: {
                x: {
                    min: 0,
                    max: 50,
                    ticks: {stepSize: 5},
                },
                y: {
                    min: 0,
                    max: 35,
                    position: 'right',
                    ticks: {stepSize: 5},
                    grid:{display:true},
                },
            },
            pointStyle: 'rectRounded',

            plugins:{ // plugin zoom
            zoom:{
              pan:{
                enabled: true,
                mode: 'xy',
                threshord: 10,
              },
              zoom:{
                mode: 'x',
                wheel:{
                  enabled: true,
                },
                drag:{
                  enabled: true,
                  backgroundColor: 'rgb(250, 220, 266, 0.5)',
                  threshord: 100,
                },
                pinch: {
                  enabled: true,
                },
              },
            }
          }
        },
    });


    
    // ----- RESET ZOOM BUTTON -----
    function resetZoomChart(){
      myChart.resetZoom();
    }

  </script>
</body>
</html>
